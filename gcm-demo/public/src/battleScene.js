// Generated by CoffeeScript 1.7.1
(function() {
  var root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  root.BattleLayer = cc.Layer.extend({
    init: function() {
      var bg, minScale, size, xScale, yScale;
      this._super();
      size = cc.director.getWinSize();
      bg = cc.Sprite.create(res.battle_png);
      xScale = size.width / bg.width;
      yScale = size.height / bg.height;
      minScale = Math.min(xScale, yScale);
      bg.setScale(minScale);
      bg.setPosition(size.width / 2, size.height / 2);
      this.addChild(bg, -1);
      this.me = g.me ? new Player(g.me.name, g.me.sprite) : new Player('mario', '08sprite');
      this.enemy = g.enemy ? new Npc(g.enemy.name, g.enemy.sprite) : new Player('luigi', '17sprite');
      this.me.moveUp();
      this.enemy.moveDown();
      this.me.setScale(3.5);
      this.me.setPosition(size.width * 80 / 400, size.height * 30 / 238);
      this.enemy.setScale(2.0);
      this.enemy.setPosition(size.width * 292 / 400, size.height * 110 / 238);
      this.addChild(this.me, 0);
      this.addChild(this.enemy, 0);
      return true;
    },
    update: function(dt) {
      var size;
      return size = cc.director.getWinSize();
    }
  });

  root.BattleScene = cc.Scene.extend({
    onEnter: function() {
      var layer;
      this._super();
      layer = new BattleLayer;
      layer.init();
      return this.addChild(layer);
    }
  });

}).call(this);

//# sourceMappingURL=battleScene.map
